<?xml version="1.0"?>
<root>

  <!-- Apps -->
  <appdef>
    <appname>SUBLIME2</appname>
    <equal>com.sublimetext.2</equal>
  </appdef>


  <!-- Window Names -->
  <windownamedef>
    <name>Windows_VM</name>
    <regex>Windows VM</regex>
  </windownamedef>

  <windownamedef>
    <name>World_of_Warcraft</name>
    <regex>^World of Warcraft$</regex>
  </windownamedef>


  <!-- Devices -->
  <devicevendordef>
    <vendorname>Roccat_Lua</vendorname>
    <vendorid>0x1e7d</vendorid> 
  </devicevendordef>
  <deviceproductdef>
    <productname>Roccat_Lua</productname>
    <productid>0x2c2e</productid>
  </deviceproductdef>

  <devicevendordef>
    <vendorname>XCELLON</vendorname>
    <vendorid>0x12c9</vendorid> 
  </devicevendordef>
  <deviceproductdef>
    <productname>XCELLON</productname>
    <productid>0x1001</productid>
  </deviceproductdef>

  <devicevendordef>
    <vendorname>Internal_Keyboard</vendorname>
    <vendorid>0x05ac</vendorid> 
  </devicevendordef>
  <deviceproductdef>
    <productname>Internal_Keyboard</productname>
    <productid>0x0273</productid>
  </deviceproductdef>







  <!-- Internal Keyboard -->
  <item>
    <name>Internal Keyboard</name>

    <!-- Command Click -->    
    <item>
      <name>Emacs</name>
      
      <!-- osx home/end for terminal -->
      <item>
        <appendix>Control + H = Control + A (Terminal)</appendix>
        <identifier>osx.home_terminal</identifier>
        <only>TERMINAL</only>
        <windowname_not>Windows_VM</windowname_not>
        <device_only>DeviceVendor::Internal_Keyboard, DeviceProduct::Internal_Keyboard</device_only>
        <autogen>__KeyToKey__ 
          KeyCode::H, ModifierFlag::CONTROL_R,
          KeyCode::CURSOR_LEFT, ModifierFlag::COMMAND_L
        </autogen>
      </item>

      <item>
        <appendix>Control + J = hControl + E (Terminal)</appendix>
        <identifier>osx.end_terminal</identifier>
        <only>TERMINAL</only>
        <windowname_not>Windows_VM</windowname_not>
        <device_only>DeviceVendor::Internal_Keyboard, DeviceProduct::Internal_Keyboard</device_only>
        <autogen>__KeyToKey__ 
          KeyCode::J, ModifierFlag::CONTROL_R,
          KeyCode::CURSOR_RIGHT, ModifierFlag::COMMAND_L
        </autogen>
      </item>

      <!-- osx home/end -->
      <item>
        <appendix>Control + H = Command + Left Arrow (OSX Home)</appendix>
        <identifier>osx.home_regular</identifier>
        <windowname_not>Windows_VM</windowname_not>
        <device_only>DeviceVendor::Internal_Keyboard, DeviceProduct::Internal_Keyboard</device_only>
        <autogen>__KeyToKey__ 
          KeyCode::H, ModifierFlag::CONTROL_R,
          KeyCode::CURSOR_LEFT, ModifierFlag::COMMAND_L
        </autogen>
      </item>

      <item>
        <appendix>Control + J = Command + Right Arrow (OSX End)</appendix>
        <identifier>osx.end_regular</identifier>
        <windowname_not>Windows_VM</windowname_not>
        <device_only>DeviceVendor::Internal_Keyboard, DeviceProduct::Internal_Keyboard</device_only>
        <autogen>__KeyToKey__ 
          KeyCode::J, ModifierFlag::CONTROL_R,
          KeyCode::CURSOR_RIGHT, ModifierFlag::COMMAND_L
        </autogen>
      </item>

      <!-- windows vm home/end -->
      <item>
        <appendix>Control + H = Home (Windows VM)</appendix>
        <identifier>windows_vm.home_regular</identifier>
        <windowname_only>Windows_VM</windowname_only>
        <device_only>DeviceVendor::Internal_Keyboard, DeviceProduct::Internal_Keyboard</device_only>
        <autogen>__KeyToKey__
          KeyCode::H, ModifierFlag::CONTROL_R,
          KeyCode::HOME
        </autogen>
      </item>

      <item>
        <appendix>Control + J = End (Windows VM)</appendix>
        <identifier>windows_vm.end_regular</identifier>
        <windowname_only>Windows_VM</windowname_only>
        <device_only>DeviceVendor::Internal_Keyboard, DeviceProduct::Internal_Keyboard</device_only>
        <autogen>__KeyToKey__ 
          KeyCode::J, ModifierFlag::CONTROL_R,
          KeyCode::END
        </autogen>
      </item>
    </item>

    <!-- Command Click -->
    <item>
      <name>Command Click</name>
      <item>
        <identifier>osx.command_click</name>
        <appendix>Right Option = Command Click</appendix>
        <autogen>__KeyToKey__
          KeyCode::OPTION_R, 
          PointingButton::LEFT, ModifierFlag::COMMAND_R
        </autogen>
      </item>
    </item> 


    <!-- Capslock -->
    <item>
      <name>Capslock</name>
      <item>
        <identifier>osx.control_left_to_capslock</name>
        <appendix>Left Control = Capslock</appendix>
        <autogen>__KeyToKey__
          KeyCode::CONTROL_L,
          KeyCode::CAPSLOCK
        </autogen>
      </item>
    </item> 


    <!-- Modifier Keys -->
    <item>
      <name>Modifier Keys</name>
      <item>
        <appendix>Left Command = Left Control (Windows VM)</appendix>
        <identifier>windows_vm.left_command_to_left_control</identifier>
        <windowname_only>Windows_VM</windowname_only>
        <device_only>DeviceVendor::Internal_Keyboard, DeviceProduct::Internal_Keyboard</device_only>
        <autogen>__KeyToKey__
          KeyCode::COMMAND_L,
          KeyCode::CONTROL_L
        </autogen>
      </item>

      <item>
        <appendix>Right Command = Right Control (Windows VM)</appendix>
        <identifier>windows_vm.right_command_to_control_right</identifier>
        <windowname_only>Windows_VM</windowname_only>
        <device_only>DeviceVendor::Internal_Keyboard, DeviceProduct::Internal_Keyboard</device_only>
        <autogen>__KeyToKey__
          KeyCode::COMMAND_R,
          KeyCode::CONTROL_R
        </autogen>
      </item>
    </item> 


    <!-- Screen Brightness -->
    <item>
      <name>Screen Brightness</name>
      <item>
        <appendix>Screen Brightness Down Moved Position on Keyboard</appendix>
        <identifier>osx.screen_brightness_down</identifier>
        <device_only>DeviceVendor::Internal_Keyboard, DeviceProduct::Internal_Keyboard</device_only>
        <autogen>__KeyToKey__
          ConsumerKeyCode::MUSIC_PREV | ModifierFlag::NONE,
          ConsumerKeyCode::BRIGHTNESS_DOWN
        </autogen>
      </item>

      <item>
        <appendix>Screen Brightness Up Moved Position on Keyboard</appendix>
        <identifier>osx.screen_brightness_up</identifier>
        <device_only>DeviceVendor::Internal_Keyboard, DeviceProduct::Internal_Keyboard</device_only>
        <autogen>__KeyToKey__
          ConsumerKeyCode::MUSIC_PLAY | ModifierFlag::NONE,
          ConsumerKeyCode::BRIGHTNESS_UP
        </autogen>
      </item>
    </item> 


    <!-- Next Window -->
    <item>
      <name>Next Window</name>
      <item>
        <identifier>osx.next_window</identifier>
        <windowname_not>Windows_VM</windowname_not>
        <device_only>DeviceVendor::Internal_Keyboard, DeviceProduct::Internal_Keyboard</device_only>
        <appendix>OPTION_R = Next Window</appendix>
        <autogen>__KeyToKey__
          KeyCode::OPTION_R,
          KeyCode::F4, ModifierFlag::CONTROL_R
        </autogen>
      </item>

      <item>
          <identifier>osx.next_window_shift</identifier>
          <windowname_not>Windows_VM</windowname_not>
          <device_only>DeviceVendor::Internal_Keyboard, DeviceProduct::Internal_Keyboard</device_only>
          <appendix>SHIFT_R + CURSOR_LEFT = Next Window</appendix>
          <autogen>__KeyToKey__ 
            KeyCode::CURSOR_LEFT, ModifierFlag::SHIFT_R,
            KeyCode::F4, ModifierFlag::CONTROL_R
          </autogen>
      </item>

      <!--
      <item>
          <identifier>osx.next_window_shift</identifier>
          <windowname_not>Windows_VM</windowname_not>
          <device_only>DeviceVendor::Internal_Keyboard, DeviceProduct::Internal_Keyboard</device_only>
          <appendix>SHIFT_R + OPTION_R = Next Window</appendix>
          <autogen>__KeyToKey__ 
            KeyCode::OPTION_R, ModifierFlag::SHIFT_R,
            KeyCode::F4, ModifierFlag::CONTROL_R
          </autogen>
      </item>
      -->
    </item> 

    
    <!-- Next/Previous Tab -->
    <item>
      <name>Next/Previous Tab</name>
      <!-- chrome and opera -->
      <item>
        <name>Chrome/Opera</name>
        <item>
          <appendix>Right Shift + Right Option = Previous Tab</appendix>
          <identifier>osx.right_shift_and_right_option_to_previous_tab_in_chrome_and_opera</identifier>
          <windowname_not>Windows_VM</windowname_not>
          <only>GOOGLE_CHROME, OPERA</only>
          <device_only>DeviceVendor::Internal_Keyboard, DeviceProduct::Internal_Keyboard</device_only>
          <autogen>__KeyToKey__ 
            KeyCode::OPTION_R, ModifierFlag::SHIFT_R,
            KeyCode::CURSOR_LEFT, ModifierFlag::COMMAND_L | ModifierFlag::OPTION_L
          </autogen>
        </item>

        <item>
          <appendix>Right Option = Next Tab</appendix>
          <identifier>osx.right_option_to_next_tab_in_chrome</identifier>
          <windowname_not>Windows_VM</windowname_not>
          <only>GOOGLE_CHROME, OPERA</only>
          <device_only>DeviceVendor::Internal_Keyboard, DeviceProduct::Internal_Keyboard</device_only>  
          <autogen>__KeyToKey__ 
            KeyCode::OPTION_R,
            KeyCode::CURSOR_RIGHT, ModifierFlag::COMMAND_L | ModifierFlag::OPTION_L
          </autogen>
        </item>
      </item> 

      <!-- terminal -->
      <item>
        <name>Terminal</name>
        <item>
          <appendix>Right Shift + Right Option = Previous Tab</appendix>
          <identifier>osx.option_right_to_previous_tab_in_terminal</identifier>
          <windowname_not>Windows_VM</windowname_not>
          <only>TERMINAL</only>
          <device_only>DeviceVendor::Internal_Keyboard, DeviceProduct::Internal_Keyboard</device_only>
          <autogen>__KeyToKey__ 
            KeyCode::OPTION_R, ModifierFlag::SHIFT_R,
            KeyCode::CURSOR_LEFT, ModifierFlag::COMMAND_L | ModifierFlag::SHIFT_L
          </autogen>
        </item>

        <item>
          <identifier>osx.right_option_to_next_tab_in_terminal</identifier>
          <windowname_not>Windows_VM</windowname_not>
          <only>TERMINAL</only>
          <device_only>DeviceVendor::Internal_Keyboard, DeviceProduct::Internal_Keyboard</device_only>
          <appendix>Right Option = Next Tab</appendix>
          <autogen>__KeyToKey__ 
            KeyCode::OPTION_R,
            KeyCode::CURSOR_RIGHT, ModifierFlag::COMMAND_L | ModifierFlag::SHIFT_L
          </autogen>
        </item>
      </item> 

      <!-- safari -->
      <item>
        <name>Safari</name>
        <item>
          <appendix>Right Shift + Right Option = Previous Tab</appendix>
          <identifier>osx.right_shift_and_right_option_to_previous_tab_in_safari</identifier>
          <windowname_not>Windows_VM</windowname_not>
          <only>SAFARI</only>
          <device_only>DeviceVendor::Internal_Keyboard, DeviceProduct::Internal_Keyboard</device_only>
          <autogen>__KeyToKey__ 
            KeyCode::OPTION_R, ModifierFlag::SHIFT_R,
            KeyCode::BRACKET_LEFT, ModifierFlag::COMMAND_L | ModifierFlag::SHIFT_L
          </autogen>
        </item>

        <item>
          <appendix>Right Option = Next Tab</appendix>
          <identifier>osx.right_option_to_next_tab_in_safari</identifier>
          <windowname_not>Windows_VM</windowname_not>
          <only>SAFARI</only>
          <device_only>DeviceVendor::Internal_Keyboard, DeviceProduct::Internal_Keyboard</device_only>
          <autogen>__KeyToKey__ 
            KeyCode::OPTION_R,
            KeyCode::BRACKET_RIGHT, ModifierFlag::COMMAND_L | ModifierFlag::SHIFT_L
          </autogen>
        </item>
      </item> 

      <!-- sublime -->
      <item>
        <name>Sublime Text 2</name>
        <item>
          <appendix>Right Shift + Right Option = Previous Tab</appendix>
          <identifier>osx.right_shift_and_right_option_to__previous_tab_in_sublime</identifier>
          <windowname_not>Windows_VM</windowname_not>
          <only>SUBLIME2</only>
          <device_only>DeviceVendor::Internal_Keyboard, DeviceProduct::Internal_Keyboard</device_only>
          <autogen>__KeyToKey__ 
            KeyCode::OPTION_R, ModifierFlag::SHIFT_R,
            KeyCode::CURSOR_LEFT, ModifierFlag::COMMAND_L | ModifierFlag::OPTION_L
          </autogen>
        </item>

        <item>
          <appendix>Right Option = Next Tab</appendix>
          <identifier>osx.sublime_next_tab</identifier>
          <windowname_not>Windows_VM</windowname_not>
          <only>SUBLIME2</only>
          <device_only>DeviceVendor::Internal_Keyboard, DeviceProduct::Internal_Keyboard</device_only>
          <autogen>__KeyToKey__ 
            KeyCode::OPTION_R,
            KeyCode::CURSOR_RIGHT, ModifierFlag::COMMAND_L | ModifierFlag::OPTION_L
          </autogen>
        </item>
      </item> 
    </item> 


    <!-- Home/End -->
    <item>
      <name>Home/End</name>
      <!-- osx home/end -->
      <item>
        <appendix>Music Previous = Command + Left Arrow (OSX Home)</appendix>
        <identifier>osx.home</identifier>
        <windowname_not>Windows_VM</windowname_not>
        <device_only>DeviceVendor::Internal_Keyboard, DeviceProduct::Internal_Keyboard</device_only>
        <autogen>__KeyToKey__ 
          ConsumerKeyCode::BRIGHTNESS_UP,
          KeyCode::CURSOR_LEFT, ModifierFlag::COMMAND_L
        </autogen>
      </item>

      <item>
        <appendix>Music Next = Command + Right Arrow (OSX End)</appendix>
        <identifier>osx.end</identifier>
        <windowname_not>Windows_VM</windowname_not>
        <device_only>DeviceVendor::Internal_Keyboard, DeviceProduct::Internal_Keyboard</device_only>
        <autogen>__KeyToKey__ 
          KeyCode::MISSION_CONTROL,
          KeyCode::CURSOR_RIGHT, ModifierFlag::COMMAND_L
        </autogen>
      </item>

      <!-- windows vm home/end -->
      <item>
        <appendix>Music Previous = Home (Windows VM)</appendix>
        <identifier>windows_vm.home</identifier>
        <windowname_only>Windows_VM</windowname_only>
        <device_only>DeviceVendor::Internal_Keyboard, DeviceProduct::Internal_Keyboard</device_only>
        <autogen>__KeyToKey__
          ConsumerKeyCode::BRIGHTNESS_UP,
          KeyCode::HOME
        </autogen>
      </item>

      <item>
        <appendix>Music Next = End (Windows VM)</appendix>
        <identifier>windows_vm.end</identifier>
        <windowname_only>Windows_VM</windowname_only>
        <device_only>DeviceVendor::Internal_Keyboard, DeviceProduct::Internal_Keyboard</device_only>
        <autogen>__KeyToKey__ 
          KeyCode::MISSION_CONTROL,
          KeyCode::END
        </autogen>
      </item>
    </item> 


    <!-- Refresh -->
    <item>
      <name>Refresh/F5</name>
      <item>
        <appendix>Mission Control = Command + R (OSX)</appendix>
        <identifier>osx.refresh</identifier>
        <windowname_not>Windows_VM</windowname_not>
        <device_only>DeviceVendor::Internal_Keyboard, DeviceProduct::Internal_Keyboard</device_only>        
        <autogen>__KeyToKey__
          ConsumerKeyCode::BRIGHTNESS_DOWN, ModifierFlag::NONE,
          KeyCode::R, ModifierFlag::COMMAND_L
        </autogen>
      </item>

      <item>
        <appendix>Mission Control = F5 (Windows VM)</appendix>
        <identifier>windows_vm.F5</identifier>
        <windowname_only>Windows_VM</windowname_only>
        <device_only>DeviceVendor::Internal_Keyboard, DeviceProduct::Internal_Keyboard</device_only>        
        <autogen>__KeyToKey__
          ConsumerKeyCode::BRIGHTNESS_DOWN,
          KeyCode::F5
        </autogen>
      </item>
    </item> 
  </item> 


  <!-- External Mouse -->
  <item>
    <name>External Mouse</name>

    <item>
      <identifier>osx.mouse_scroll</identifier>
      <appendix>Force Mouse Scrolling to be Natural (Trackpad Is Still Inverted)</appendix>      
      <device_only>
        DeviceVendor::Roccat_Lua, DeviceProduct::Roccat_Lua,
        DeviceVendor::XCELLON, DeviceProduct::XCELLON
      </device_only>
      <autogen>__FlipScrollWheel__ Option::FLIPSCROLLWHEEL_VERTICAL</autogen>
    </item>

    <item>
      <appendix>Middle Click = Page Back</appendix>
      <identifier>osx.middle_click</identifier>
      <windowname_not>World_of_Warcraft</windowname_not>
      <autogen>__KeyToKey__ 
        PointingButton::MIDDLE, 
        KeyCode::BRACKET_LEFT, ModifierFlag::COMMAND_L
      </autogen>
    </item>

    <item>
      <identifier>osx.simultaneous_left_and_right_click</identifier>
      <appendix>Simultaneous L + R Click = Cmd + W</appendix>
      <windowname_not>World_of_Warcraft</windowname_not>
      <autogen>__SimultaneousKeyPresses__
        @begin PointingButton::LEFT, PointingButton::RIGHT,
        @end KeyCode::W, ModifierFlag::COMMAND_L
      </autogen>
    </item>

    <!--item>
      <appendix>Left then Right Click = Page Back</appendix>
      <identifier>osx.left_then_right_click</identifier>
      <autogen>__KeyToKey__
        PointingButton::LEFT,
        PointingButton::LEFT, ModifierFlag::EXTRA1,
      </autogen>
      <autogen>__KeyToKey__
        PointingButton::RIGHT, ModifierFlag::EXTRA1,
        KeyCode::BRACKET_LEFT, ModifierFlag::COMMAND_L,
      </autogen>
    </item-->
  </item> 



  <!-- World of Warcraft -->
  <item>
    <name>World_of_Warcraft</name>
    <item>
      <identifier>wow.trackpad</identifier>
      <appendix>Reverse Trackpad Scrolling Direction</appendix>
      <windowname_only>World_of_Warcraft</windowname_only>
      <autogen>__FlipScrollWheel__ Option::FLIPSCROLLWHEEL_VERTICAL</autogen>
    </item>
  </item>
</root>







